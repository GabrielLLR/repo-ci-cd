name: Validate PR with PB33F

on:
  workflow_call:

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - name: Instalar DependÃªncias do Go
        run: |
          go mod init validator || true
          go mod tidy
          go get github.com/pb33f/libopenapi

      - name: Rodar PB33F e gerar relatÃ³rio
        run: |
          go run rules/validator.go swagger.yaml > pb33f_report.txt 2>&1 || true
